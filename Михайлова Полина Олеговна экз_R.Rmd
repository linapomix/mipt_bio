---
title: "Михайлова ПО_R"
output: html_document
date: "2025-06-02"
---

### Задание 1

Функции для установки и загрузки пакетов:

Установка пакетов: install.packages("название пакета"). Используется однократно для загрузки пакета из CRAN на ваш компьютер.

Загрузка пакетов: library(название пакета) или require(название пакета). Используется в начале сессии для подключения установленного пакета.

Как понять, что использовать:

Если пакет ещё не установлен в системе → install.packages().

Если пакет установлен и его нужно подключить → library().

```{r}
install.packages(tidyverse)
library(tidyverse)
```

### Задание 2

Циклы (например, for, while) — конструкции для многократного выполнения блока кода.

Векторизованные функции — операции, применяемые сразу ко всем элементам вектора/матрицы без явных циклов.

Что оптимальнее в R и почему: Векторизованные функции предпочтительнее, так как: Выполняются быстрее (реализованы на C/C++). Код короче и читаемее. Меньше риск ошибок (например, при индексации).

Пример:

```{r}
# Цикл (не оптимально)
result <- numeric(5)
for (i in 1:5) result[i] <- i * 2

# Векторизация (оптимально)
result <- 1:5 * 2
```

### Задание 3

Основной пакет для векторизованных функций: dplyr (часть tidyverse)

```{r}
# Используем датасет iris
result <- iris %>%
  # Фильтруем по виду
  filter(Species == "setosa") %>%          
  # Добавляем переменную
  mutate(Petal.Area = Petal.Length * Petal.Width) %>%  
  # Группируем
  group_by(Species) %>%                    
  # Считаем среднее
  summarise(Mean.Area = mean(Petal.Area))  
  
print(result)
```

### Задание 4

Датасет: iris (встроенный в R).

Описание: Переменные (5): Sepal.Length, Sepal.Width, Petal.Length, Petal.Width (numeric) Species (factor: setosa, versicolor, virginica).

Наблюдения: 150 (по 50 на каждый (Species) вид).

```{r}
# Сводка по всем переменным
summary(iris)
r
# Размеры датасета
cat("Количество наблюдений:", nrow(iris), "\n")
cat("Количество переменных:", ncol(iris), "\n")

# Структура данных
str(iris)

# Типы переменных
cat("\nТипы переменных:\n")
sapply(iris, class)

# Проверка пропущенных значений
cat("\nПропущенные значения:", sum(is.na(iris)))
```

Гипотеза: Средняя длина лепестка (Petal.Length) у видов setosa и versicolor различается.

Проверка гипотезы (t-тест):

```{r}
data(iris)
setosa <- iris %>% filter(Species == "setosa") %>% pull(Petal.Length)
versicolor <- iris %>% filter(Species == "versicolor") %>% pull(Petal.Length)

t_test <- t.test(setosa, versicolor)
print(t_test)

```

Интерпретация: Гипотеза подтверждена (p \< 0.05). Средняя длина лепестка у versicolor значительно больше, чем у setosa.

```{r}
library(ggplot2)
filtered_iris <- iris %>% filter(Species %in% c("setosa", "versicolor"))

ggplot(filtered_iris, aes(x = Species, y = Petal.Length, fill = Species)) +
  geom_boxplot() +
  labs(title = "Длина лепестка у видов setosa и versicolor",
       y = "Длина лепестка (см)", x = "Вид") +
  theme_minimal()

```

### Задание 5

Разница между моделями:

Линейная регрессия (LM): Все наблюдения независимы. Формула: y \~ x.

Регрессия со случайными эффектами (LMM): Учитывает группировку данных (например, повторные измерения). Формула: y \~ x + (x \| group).

Пример для датасета Orange:

```{r}
library(lme4)
data(Orange)

# Модель: circumference ~ age + случайный эффект для дерева (Tree)
model <- lmer(circumference ~ age + (1 | Tree), data = Orange)
summary(model)

```

Интерпретация:

Фиксированные эффекты: С каждым днём (age) окружность ствола увеличивается на 0.107 мм.

Случайные эффекты: Индивидуальные различия: Деревья значительно различаются по начальному размеру (SD = 19.74 мм) Вариация между деревьями больше (389.6), чем вариация внутри деревьев (232.9), что подтверждает наличие значимых индивидуальных различий.
